<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vite Press build error | Learning</title>
    <meta name="description" content="文档库">
    <link rel="stylesheet" href="/assets/style.d37563d3.css">
    <link rel="modulepreload" href="/assets/app.62ccd090.js">
    <link rel="modulepreload" href="/assets/problem-and-solution_vitepress-build-error.md.26ab2589.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f44a984a data-v-8c0a9870><div class="VPNavBar has-sidebar" data-v-8c0a9870 data-v-1bbed88e><div class="container" data-v-1bbed88e><div class="VPNavBarTitle has-sidebar" data-v-1bbed88e data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!----><!--[-->Learning<!--]--><!--[--><!--]--></a></div><div class="content" data-v-1bbed88e><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1bbed88e data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/mongo/get-started" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Getting Started <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/getting-started/shell-script" data-v-e8e0fb1d data-v-3c355974><!--[-->Shell Script<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/mongo/get-started" data-v-e8e0fb1d data-v-3c355974><!--[-->MongoDB<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/db/mysql-get-started" data-v-e8e0fb1d data-v-3c355974><!--[-->MySQL<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/other/data-analysis-start" data-v-e8e0fb1d data-v-3c355974><!--[-->数据分析<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Problem &amp; Solution <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link active" href="/problem-and-solution/vitepress-build-error" data-v-e8e0fb1d data-v-3c355974><!--[-->Vite Press build error<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/problem-and-solution/thinkphp-issues" data-v-e8e0fb1d data-v-3c355974><!--[-->ThinkPHP issues<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Frontend <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/vite-press/index" data-v-e8e0fb1d data-v-3c355974><!--[-->Vite Press<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/vite-press/how-use-third-party-components" data-v-e8e0fb1d data-v-3c355974><!--[-->Use Third-Party Component<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/vite-press/carousel" data-v-e8e0fb1d data-v-3c355974><!--[-->Carousel<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/docker/deploy-frontend" data-v-e8e0fb1d data-v-3c355974><!--[-->Node 镜像部署项目<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Geek time <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/geektime/early-code" data-v-e8e0fb1d data-v-3c355974><!--[-->从《代码之丑》专栏了解好代码<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/geektime/modernization-of-legacy-systems" data-v-e8e0fb1d data-v-3c355974><!--[-->摘抄 - 遗留系统现代化实战<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/geektime/tdd-project-70-course" data-v-e8e0fb1d data-v-3c355974><!--[-->摘抄 - TDD 项目实战 70 讲<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://github.com/linnzh" target="_blank" rel="noreferrer" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->GitHub<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1bbed88e data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-1bbed88e data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1bbed88e data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-f44a984a data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-f44a984a data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>PHP</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/other/usage-of-websocket" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Web Socket使用</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible collapsed" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Other</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/other/crypto-aes-encrypt" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>AES 加解密算法</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/other/design-patterns" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>设计模式</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/other/restful-api-by-github" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>GitHub REST API 参考</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/other/message-queue-basic" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>消息队列 - 基础</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/db/redis-basic" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Redis 基础</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/other/web-security" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>WEB 安全</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible collapsed" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>CI/CD</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/deploy/gitee-pipeline" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>使用 Pipeline 自动构建并部署 - 以 Gitee 为例</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/deploy/github-vite-press" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vite Press 在 GitHub 上的发布</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/docker/deploy-frontend" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Node 镜像部署项目</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/docker/deploy-backend-by-php" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>PHP 镜像部署项目 - 以 Hyperf 项目为例</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _problem-and-solution_vitepress-build-error" data-v-cfb513e0><div><h1 id="vite-press-build-error" tabindex="-1">Vite Press build error <a class="header-anchor" href="#vite-press-build-error" aria-hidden="true">#</a></h1><blockquote><p>记一次使用 GitHub Action 构建 Vite Press 项目时遇到的错误。</p></blockquote><h2 id="前情" tabindex="-1">前情 <a class="header-anchor" href="#前情" aria-hidden="true">#</a></h2><p>笔者使用 Vite Press 搭建了一个个人博客，配合 GitHub Action 的自动部署。前几天还在正常运行，在昨天突然发现构建失败了，进入 Actions 查看构建过程发现以下报错：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#F8F8F2;">Run yarn docs:build</span></span>
<span class="line"><span style="color:#6272A4;">##[debug]/usr/bin/bash -e /home/runner/work/_temp/bcd14533-9b56-4c8f-8151-9c8931e25bd4.sh</span></span>
<span class="line"><span style="color:#F8F8F2;">yarn run v1.22.19</span></span>
<span class="line"><span style="color:#F8F8F2;">warning package.json: License should be a valid SPDX license expression</span></span>
<span class="line"><span style="color:#F8F8F2;">$ vitepress build config</span></span>
<span class="line"><span style="color:#F8F8F2;">vitepress v1.0.0-alpha.43</span></span>
<span class="line"><span style="color:#F8F8F2;">- building client + server bundles...</span></span>
<span class="line"><span style="color:#F8F8F2;">✖ building client + server bundles...</span></span>
<span class="line"><span style="color:#F8F8F2;">build error:</span></span>
<span class="line"><span style="color:#F8F8F2;"> [Error: ENOENT: no such file or directory, open </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">/home/runner/work/simplelearncoding.github.io/simplelearncoding.github.io/node_modules/shiki/themes/material-palenight.json</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">] {</span></span>
<span class="line"><span style="color:#F8F8F2;">  errno: -2,</span></span>
<span class="line"><span style="color:#F8F8F2;">  code: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ENOENT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  syscall: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">open</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  path: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">/home/runner/work/simplelearncoding.github.io/simplelearncoding.github.io/node_modules/shiki/themes/material-palenight.json</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">error Command failed with </span><span style="color:#8BE9FD;">exit</span><span style="color:#F8F8F2;"> code 1.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>其关键报错信息：<code>ENOENT: no such file or directory, open &#39;/home/runner/work/simplelearncoding.github.io/simplelearncoding.github.io/node_modules/shiki/themes/material-palenight.json&#39;]</code>提示文件不存在。</p><h2 id="本地排查" tabindex="-1">本地排查 <a class="header-anchor" href="#本地排查" aria-hidden="true">#</a></h2><p>为此笔者立刻查看了自己本地项目<code>node_modules</code>目录下是否存在该文件，结果是存在的。</p><blockquote><p>在写本文时，笔者突然就发现了这个错误最根本的地方在于 vitepress v1.0.0-alpha.43 版本与<code>package.json</code>中定义的并不一致。</p><p>但由于对前端包版本控制系统的不了解，以及对著名项目的信任，无法往「版本兼容性」方向想——毕竟，谁会想到只是小版本的更新也会导致问题呢？</p></blockquote><h3 id="未安装依赖" tabindex="-1">未安装依赖？ <a class="header-anchor" href="#未安装依赖" aria-hidden="true">#</a></h3><p>随后想到可能是 GitHub Action 安装依赖不完整，于是将<code>.github/workflows/deploy.yml</code>流水线部署文件中关于<code>yarn install</code>的部分，改为了<code>yarn install --no-lockfile</code>。</p><p>此时并没有 push 至 GitHub 进行测试，而是删除了本地项目的<code>node_modules</code>目录，并运行命令<code>yarn install --no-lockfile</code>。结果连<code>yarn docs:dev</code>命令也无法运行，报错信息同上。</p><p>在这个过程中，还遇到了一些问题。</p><h2 id="容器排查" tabindex="-1">容器排查 <a class="header-anchor" href="#容器排查" aria-hidden="true">#</a></h2><p>在本地始终无法复现该问题时，我想起前段时间运行公司前端项目一直失败的事情，前端同学认为我的「Node 版本过高」。</p><p>使用<code>node -v</code>检查了一下，发现是 19.x 版本，而对方使用的是 16.x。遂琢磨着使用<strong>Docker容器</strong>来构建项目。</p><h3 id="node-alpine-镜像问题" tabindex="-1">Node Alpine 镜像问题 <a class="header-anchor" href="#node-alpine-镜像问题" aria-hidden="true">#</a></h3><p>在 Docker 的使用方面，我一直倾向于使用<strong>Alpine</strong>版本。在执行<code>yarn docs:dev</code>时没有报错，而后执行<code>yarn docs:build</code>时，引发错误：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#F8F8F2;">/opt/www </span><span style="color:#6272A4;"># yarn docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">$ vitepress build config</span></span>
<span class="line"><span style="color:#F8F8F2;">vitepress v1.0.0-alpha.43</span></span>
<span class="line"><span style="color:#F8F8F2;">⠦ building client + server bundles...[vitepress] spawn git ENOENT</span></span>
<span class="line"><span style="color:#F8F8F2;">file: /opt/www/docs/db/redis-basic.md</span></span>
<span class="line"><span style="color:#F8F8F2;">✖ building client + server bundles...</span></span>
<span class="line"><span style="color:#F8F8F2;">build error:</span></span>
<span class="line"><span style="color:#F8F8F2;"> Error: spawn git ENOENT</span></span>
<span class="line"><span style="color:#F8F8F2;">    at Process.ChildProcess._handle.onexit (node:internal/child_process:285:19)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at onErrorNT (node:internal/child_process:485:16)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at processTicksAndRejections (node:internal/process/task_queues:83:21) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  errno: -2,</span></span>
<span class="line"><span style="color:#F8F8F2;">  code: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">PLUGIN_ERROR</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  syscall: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">spawn git</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  path: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">git</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  spawnargs: [ </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">log</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">-1</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">--pretty=&quot;%ci&quot;</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">/opt/www/docs/db/redis-basic.md</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  pluginCode: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ENOENT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugin: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">vitepress</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  hook: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">transform</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  id: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">/opt/www/docs/db/redis-basic.md</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>很轻易地，我的注意力被其所提示的文件吸引，猜测<strong>可能是文件的格式语法不支持</strong>（因为之前出现过因为 markdown 代码块语法不支持某个语言的报错）。</p><p>花时间去检查 markdown 语法后，重新执行 build 命令，报错信息还是如此。</p><p>意识到方向出了问题，遂 Google，得知是<strong>缺少<code>git</code></strong>。</p><p>我当时无法置信，为何一个前端项目构建过程会用到 git 版本控制？但事实上它就是需要。我没去刨根问底，只是默默<code>apt add git</code>了一下。</p><h3 id="其他问题" tabindex="-1">其他问题 <a class="header-anchor" href="#其他问题" aria-hidden="true">#</a></h3><p>安装 git 后，执行 build 命令，它告诉我渲染页面时出现了问题：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#F8F8F2;">✖ rendering pages...</span></span>
<span class="line"><span style="color:#F8F8F2;">build error:</span></span>
<span class="line"><span style="color:#F8F8F2;"> TypeError: Cannot </span><span style="color:#8BE9FD;">read</span><span style="color:#F8F8F2;"> properties of undefined (reading </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">replace</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at normalizeLink</span><span style="color:#BD93F9;">$1</span><span style="color:#F8F8F2;"> (file:///opt/www/config/.vitepress/.temp/app.js:398:91)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at file:///opt/www/config/.vitepress/.temp/app.js:3241:92</span></span>
<span class="line"><span style="color:#F8F8F2;">    at renderComponentSubTree (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:251:17)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at renderComponentVNode (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:185:16)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at ssrRenderComponent (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:621:12)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at file:///opt/www/config/.vitepress/.temp/app.js:3358:13</span></span>
<span class="line"><span style="color:#F8F8F2;">    at renderComponentSubTree (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:251:17)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at renderComponentVNode (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:185:16)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at ssrRenderComponent (/opt/www/node_modules/@vue/server-renderer/dist/server-renderer.cjs.prod.js:621:12)</span></span>
<span class="line"><span style="color:#F8F8F2;">    at file:///opt/www/config/.vitepress/.temp/app.js:3442:15</span></span>
<span class="line"><span style="color:#F8F8F2;">error Command failed with </span><span style="color:#8BE9FD;">exit</span><span style="color:#F8F8F2;"> code 1.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>并且还在<code>.vitepress</code>目录下生成了<code>.temp</code>的缓存目录。</p><p>我只得删除所有依赖和缓存文件，再次执行安装依赖命令<code>yarn install --no-lockfile</code>。</p><p>安装完毕后 webstorm 提示我配置文件<code>config/.vitepress/config.ts</code>存在致命错误：</p><p><code>cleanUrls</code>选项只能是 Boolean 类型，而我写的是<code>cleanUrls: &#39;with-subfolders&#39;</code>。</p><p>查看其声明，webstorm 提示的确实没错。于是去翻 vite press 的官方说明，也确实如此。</p><p>问题是，vite press 配置基本是我复制其官方而来。</p><p><strong>此刻我才注意到官方版本好像与项目中<code>package.json</code>中定义的并不一致</strong>（<code>1.0.0-alpha.31</code>和<code>1.0.0-alpha.43</code>）。</p><h4 id="修改版本" tabindex="-1">修改版本 <a class="header-anchor" href="#修改版本" aria-hidden="true">#</a></h4><p>无法，只能修改依赖：</p><div class="language-diff line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki"><code><span class="line"><span style="color:#FF5555;">- &quot;vitepress&quot;: &quot;^1.0.0-alpha.31&quot;,</span></span>
<span class="line"><span style="color:#50FA7B;">+ &quot;vitepress&quot;: &quot;1.0.0-alpha.31&quot;,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>重新安装依赖并构建后，问题解决。</p><h2 id="更多的坑" tabindex="-1">更多的坑 <a class="header-anchor" href="#更多的坑" aria-hidden="true">#</a></h2><p>问题排查过程中，还遇到以下问题。</p><h3 id="cannot-find-module" tabindex="-1">Cannot find module <a class="header-anchor" href="#cannot-find-module" aria-hidden="true">#</a></h3><p>webstorm 在文件<code>config/.vitepress/theme/index.ts</code>的两条导入语句上报错：<code>Cannot find module &#39;vitepress/theme&#39; or its corresponding type declarations</code>。</p><p>该报错由<code>tsc</code>提出，项目本身是没有安装<code>tslint</code>的。</p><p>开始怀疑是<em>依赖不全</em>，但点进去文件又是存在的，遂排除；</p><p>进而猜测是 <em>IDE 本身的错误检查</em>太严格了，但一项项看过去，也没有找到符合的配置，遂排除；</p><p>最后意识到可能是 Typescript 的问题（毕竟是它提出来的）。</p><p>经过排查上面的问题后，现在至少有个<strong>环境意识</strong>了：这个 typescript 必定是 IDE 上的。</p><p>果不其然，ts 本地并未安装（<code>npm ls typescript -g</code>命令查看全局安装的 ts）。</p><p>在将 IDE 关于<strong>解释器</strong>的配置中可以看到绑定（Bundle）Typescript 版本为 4.2.2，而 Node 版本为 19.1.0。</p><p>修改 Node 16.x 版本后，该问题消失。</p><p>我不清楚 node 19.x 版本是否不兼容 4.2.2 版本的 Typescript。但为了尽量避免此类错误，我选择在<code>package.json</code>中加上<code>typescript</code>依赖，以及声明 Node 版本：</p><div class="language-diff line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki"><code><span class="line"><span style="color:#50FA7B;">+  &quot;engines&quot;: {</span></span>
<span class="line"><span style="color:#50FA7B;">+    &quot;node&quot;: &quot;&gt;=14.0.0&quot;</span></span>
<span class="line"><span style="color:#50FA7B;">+  },</span></span>
<span class="line"><span style="color:#F8F8F2;">   &quot;devDependencies&quot;: {</span></span>
<span class="line"><span style="color:#F8F8F2;">     &quot;@arco-design/web-vue&quot;: &quot;^2.40.0&quot;,</span></span>
<span class="line"><span style="color:#50FA7B;">+    &quot;typescript&quot;: &quot;^4.9.4&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">     &quot;vitepress&quot;: &quot;1.0.0-alpha.31&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">     &quot;vue&quot;: &quot;^3.2.45&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">   },</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li><p>经测试，node 19.x 版本是兼容 4.9.4 版本的 Typescript 的。</p></li><li><p>始终推荐「次稳定版本」的 Node，并在项目中使用 yarn 维护依赖项。</p></li></ol></div><h3 id="license-should-be-a-valid-spdx-license-expression" tabindex="-1">License should be a valid SPDX license expression <a class="header-anchor" href="#license-should-be-a-valid-spdx-license-expression" aria-hidden="true">#</a></h3><p>该错误是在安装依赖时给出的警告，好奇<code>SPDX</code>是啥，就搜索了一下，找到了<a href="https://spdx.org/licenses/" target="_blank" rel="noreferrer">SPDX License List</a>。</p><p>最后根据项目性质，设置了<a href="https://spdx.org/licenses/CC-BY-SA-4.0.html" target="_blank" rel="noreferrer"><code>CC-BY-SA-4.0</code></a>（知识共享署名相同方式共享 4.0 国际版）的许可证。</p><h2 id="写在最后" tabindex="-1">写在最后 <a class="header-anchor" href="#写在最后" aria-hidden="true">#</a></h2><p>本次体验令我对前端工具的复杂度的认知再次上了一个台阶。</p><p>不过解决问题的过程及结果还是令人兴奋不已的，会感觉自己仍然年轻、仍然可以继续学习。</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><div class="edit-info" data-v-21f75714><div class="edit-link" data-v-21f75714><a class="VPLink link edit-link-button" href="https://github.com/SimpleLearnCoding/simplelearncoding.github.io/edit/master/docs/problem-and-solution/vitepress-build-error.md" target="_blank" rel="noreferrer" data-v-21f75714 data-v-3c355974><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-21f75714><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><div class="last-updated" data-v-21f75714><p class="VPLastUpdated" data-v-21f75714 data-v-18fe8fc2>Last updated: <time datetime="2023-01-30T07:35:56.000Z" data-v-18fe8fc2></time></p></div></div><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><!----></div><div class="pager" data-v-21f75714><a class="pager-link next" href="/other/usage-of-websocket" data-v-21f75714><span class="desc" data-v-21f75714>Next page</span><span class="title" data-v-21f75714>Web Socket使用</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-f44a984a data-v-9f24cc86><div class="container" data-v-9f24cc86><p class="message" data-v-9f24cc86>Released under the <a href="https://github.com/SimpleLearnCoding/simplelearncoding.github.io/blob/master/LICENSE">MIT License</a>.</p><p class="copyright" data-v-9f24cc86>Copyright © 2022-present <a href="https://github.com/Linnzh">Linnzh</a></p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"db_redis-basic.md\":\"72bde27f\",\"getting-started_shell-script.md\":\"d3200150\",\"problem-and-solution_thinkphp-issues.md\":\"32abb61e\",\"problem-and-solution_vitepress-build-error.md\":\"26ab2589\",\"vite-press_carousel.md\":\"99680c5c\",\"vite-press_how-use-third-party-components.md\":\"52368c86\",\"vite-press_index.md\":\"a5d4dad5\",\"other_data-analysis-start.md\":\"8436066f\",\"geektime_tdd-project-70-course.md\":\"c2662240\",\"other_crypto-aes-encrypt.md\":\"5181fe32\",\"other_usage-of-websocket.md\":\"c852d02b\",\"docker_deploy-frontend.md\":\"f406d683\",\"index.md\":\"a337dede\",\"geektime_early-code.md\":\"e579aad0\",\"other_restful-api-by-github.md\":\"ec0d37da\",\"deploy_gitee-pipeline.md\":\"c96be3e4\",\"deploy_github-vite-press.md\":\"60c54375\",\"other_web-security.md\":\"383cc778\",\"db_mysql-get-started.md\":\"606a21cb\",\"other_message-queue-basic.md\":\"901ed266\",\"geektime_modernization-of-legacy-systems.md\":\"54f94d09\",\"other_design-patterns.md\":\"0ce87368\",\"mongo_get-started.md\":\"ce14237b\",\"docker_deploy-backend-by-php.md\":\"048691c3\"}")</script>
    <script type="module" async src="/assets/app.62ccd090.js"></script>
    
  </body>
</html>